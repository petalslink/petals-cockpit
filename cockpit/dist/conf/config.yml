# configuration for dropwizard
---
server:
  # the backend will be served via /api on 8080
  rootPath: /api
  # the frontend will be served via / on 8080
  applicationContextPath: /
  applicationConnectors:
    - type: http
      port: 8080
  # the admin console will be served via / on 8082
  adminContextPath: /
  adminConnectors:
    - type: http
      port: 8082

security:
  pac4jClients:
    - org.ow2.petals.cockpit.server.security.CockpitAuthClient: {}

database:
  driverClass: org.h2.Driver
  user: petals
  password: petals
  url: jdbc:h2:./db/cockpit
  # see http://stackoverflow.com/a/3670000
  validationQuery: "/* Health Check */ SELECT 1"

logging:
  level: INFO
  appenders:
    - type: file
      currentLogFilename: ./logs/cockpit.log
      archivedLogFilenamePattern: ./logs/cockpit-%d.log.gz
      archivedFileCount: 5
    - type: console
      threshold: WARN
