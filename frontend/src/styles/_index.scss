/**
 * Copyright (C) 2017 Linagora
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

// shared
@import './shared/_shared';

// colors
@import './shared/_colors';

// themes
@import './themes/_light.theme';

md-sidenav-container {
  background-image: url(./assets/img/gray_jean.png);
  color: mat-color($theme-primary, default-contrast);
}

// customize toolbars
app-header .header-toolbar,
.header-toolbar > .mat-toolbar-layout > .mat-toolbar-row {
  height: 56px;
  min-height: 56px;
}

app-header .toolbar-page-header,
.toolbar-page-header > .mat-toolbar-layout > .mat-toolbar-row {
  height: 140px;
  min-height: 140px;
  h1 {
    font-size: 30px;
    font-weight: 300;
    margin: 0;
    padding: 50px;
  }
}

@media screen and (max-width: 840px) {
  app-header .toolbar-page-header,
  .toolbar-page-header > .mat-toolbar-layout > .mat-toolbar-row {
    height: 80px;
    min-height: 80px;
    h1 {
      padding: 24px 8px;
      font-size: 20px;
    }
  }
  .md-icon {
    padding-right: 30px;
  }
}

.mat-icon.goto-icon {
  height: 18px;
  width: 18px;
}

.icon-primary {
  color: mat-color($theme-primary-x6);
}

.highlight {
  background-color: mat-color($theme-accent-x5);
}

// all items elements in petals menu view
app-buses-in-progress
  > .nav-list-imports-in-progress
  > .item-list
  > .mat-list-item
  > .mat-list-item-content,
app-material-tree
  > .nav-list-petals-tree
  > .item-list
  > .mat-list-item
  > .mat-list-item-content {
  height: 24px;
  border-bottom-width: 1px;
  border-bottom-style: solid;
  border-color: rgba(0, 0, 0, .02);

  .item-content > .item-name {
    display: inline-block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .item-content > .arrow-size {
    width: 14px;
  }
}

.active-link,
.active-link:hover {
  .mat-list-item-content,
  .mat-list-item-content:hover {
    background-color: mat-color($theme-primary-x);
    @extend .color-primary-bold;
    margin: 0;
  }
}

$sidebar-width: 320px;

md-sidenav {
  width: $sidebar-width;
}

app-material-tree {
  max-width: $sidebar-width;
}

// all items elements in petals tree
app-material-tree > .nav-list-petals-tree > .item-list {
  // customize tree elements
  .mat-list-item > .mat-list-item-content {
    padding-left: 10px;
  }
  .mat-list-item > .mat-list-item-content:hover,
  .mat-list-item > .mat-list-item-content:focus {
    background-color: mat-color($theme-primary-x);
    @extend .color-primary-light-bold;
  }
  // customize categories of elements
  .workspace-element-type-category-components > .mat-list-item-content,
  .workspace-element-type-category-service-assemblies > .mat-list-item-content,
  .workspace-element-type-category-shared-libraries > .mat-list-item-content {
    @extend .text-upper;
    background: rgba(0, 0, 0, 0.02);
    color: rgba(0, 0, 0, 0.54);
    font-weight: 500;

    .item-content > .arrow-size {
      width: 16px;
    }
  }
  // customize hover categories of elements
  .workspace-element-type-category-components > .mat-list-item-content:hover,
  .workspace-element-type-category-service-assemblies
    > .mat-list-item-content:hover,
  .workspace-element-type-category-shared-libraries
    > .mat-list-item-content:hover {
    background: rgba(0, 0, 0, .08);
    color: rgba(0, 0, 0, .54);
    font-weight: 500;
  }
  // customize focus categories of elements
  .workspace-element-type-category-components > .mat-list-item-content:focus,
  .workspace-element-type-category-service-assemblies
    > .mat-list-item-content:focus,
  .workspace-element-type-category-shared-libraries
    > .mat-list-item-content:focus {
    background: rgba(0, 0, 0, .02);
    color: rgba(0, 0, 0, .54);
    font-weight: 500;
  }

  // declare width for ellipsis
  .workspace-element-type-bus
    > .mat-list-item-content
    > .item-content
    > .item-name {
    max-width: $sidebar-width - 54px;
  }
  .workspace-element-type-container
    > .mat-list-item-content
    > .item-content
    > .item-name {
    max-width: $sidebar-width - 68px;
  }
  .workspace-element-type-component
    > .mat-list-item-content
    > .item-content
    > .item-name,
  .workspace-element-type-service-assembly
    > .mat-list-item-content
    > .item-content
    > .item-name,
  .workspace-element-type-shared-library
    > .mat-list-item-content
    > .item-content
    > .item-name {
    max-width: $sidebar-width - 94px;
  }
  .workspace-element-type-service-unit
    > .mat-list-item-content
    > .item-content
    > .item-name {
    max-width: $sidebar-width - 122px;
  }
}

// all items ip/port in imports in progress
app-buses-in-progress > .nav-list-imports-in-progress > .item-list {
  // customize tree elements
  .mat-list-item > .mat-list-item-content:hover,
  .mat-list-item > .mat-list-item-content:focus {
    background-color: mat-color($theme-primary-x);
    @extend .color-primary-light-bold;
  }
}

.network-canvas {
  width: 100%;
  height: 100%;
  .vis-network > .vis-network-tooltip {
    height: 22px;
    max-width: 250px;
    font-size: 10px;
    margin: 14px;
    padding: 8px;
    background: mat-color($mat-grey, 700, 0.9);
    border-radius: 2px;
    position: absolute;
    color: #fff;
  }
}

.user-management-page > .user-management-panels {
  .pnl-add-user > md-expansion-panel > md-expansion-panel-header.mat-expanded,
  .pnl-list-users
    > .mat-accordion
    > md-expansion-panel
    > md-expansion-panel-header.mat-expanded {
    background-color: mat-color($theme-accent-x5);
  }
}

.form-edit-user > .mat-action-row {
  border-top: 0;
}
