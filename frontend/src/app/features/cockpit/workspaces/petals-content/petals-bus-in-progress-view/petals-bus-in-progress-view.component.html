<div class="content">
  <md-card>
    <md-card-title class="color-primary margin-bottom-x0">Information of the bus</md-card-title>

    <md-card-content>
      <form novalidate [formGroup]="busImportForm" (ngSubmit)="onSubmit(busImportForm)">
        <div fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="10px">
          <!-- once this issue https://github.com/angular/flex-layout/issues/108 -->
          <!-- is fixed, replace fxFlex="45" to 50 -->
          <div fxFlex="45" fxFlex.xs="100" class="margin-top-x2">
            <md-input-container fxFill>
              <input md-input placeholder="IP" formControlName="ip" required>
              <span md-prefix><md-icon color="primary">star_half</md-icon>&nbsp;</span>
              <md-hint *ngIf="formErrors.ip" class="form-error">
                <!-- TODO : when angular 4.0 is available we'll have access to an else -->
                <!-- property and we should start by check if required is OK, if not we shouldn't display others errors -->
                {{ formErrors.ip }}
              </md-hint>
            </md-input-container>

          </div>

          <div fxFlex="45" fxFlex.xs="100" class="margin-top-x2">
            <md-input-container fxFill>
              <input md-input placeholder="Port" formControlName="port" required>
              <span md-prefix><md-icon color="primary">star_half</md-icon>&nbsp;</span>
              <md-hint *ngIf="formErrors.port" class="form-error">
                {{ formErrors.port }}
              </md-hint>
            </md-input-container>
          </div>

          <div fxFlex="45" fxFlex.xs="100" class="margin-top-x2">
            <md-input-container fxFill>
              <input md-input placeholder="Username" formControlName="username" required>
              <span md-prefix><md-icon color="primary">person</md-icon>&nbsp;</span>
              <md-hint *ngIf="formErrors.username" class="form-error">
                {{ formErrors.username }}
              </md-hint>
            </md-input-container>
          </div>

          <div fxFlex="45" fxFlex.xs="100" class="margin-top-x2">
            <md-input-container fxFill>
              <input md-input type="password" placeholder="Password" formControlName="password" required>
              <span md-prefix><md-icon color="primary">vpn_key</md-icon>&nbsp;</span>
              <md-hint *ngIf="formErrors.password" class="form-error">
                {{ formErrors.password }}
              </md-hint>
            </md-input-container>
          </div>

          <div fxFlex="45" fxFlex.xs="100" class="margin-top-x2">
            <md-input-container fxFill>
              <input md-input type="password" placeholder="Topology passphrase" formControlName="passphrase" required>
              <span md-prefix><md-icon color="primary">security</md-icon>&nbsp;</span>
              <md-hint *ngIf="formErrors.passphrase" class="form-error">
                {{ formErrors.passphrase }}
              </md-hint>
            </md-input-container>
          </div>
        </div>

        <div class="margin-top-x2" fxLayout="row" fxLayoutAlign="end center">
          <button md-raised-button color="warn" type="submit" *ngIf="busInProgress && busInProgress.importError" class="margin-right-x1">Discard</button>
          <button md-raised-button color="primary" type="submit" [disabled]="busImportForm.invalid || (busesInProgressTable$ | async).isImportingBus || (busInProgress && !busInProgress.importError)">Import</button>
        </div>
      </form>
    </md-card-content>
  </md-card>
</div>
