<!-- Copyright (C) 2017 Linagora

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>. -->

<md-toolbar color="primary" class="header-toolbar" [class.mat-elevation-z6]="showShadow">
  <button md-button class="toolbar-logo" (click)="closeWorkspace()">
    <img class="logo-toolbar" [src]="logo()">
  </button>

  <button *ngIf="isOnWorkspace" md-button (click)="toggleSidenav()" class="sidenav-toggle">
    <md-icon>menu</md-icon>
  </button>

  <span fxLayout="row" fxFlex class="text-upper" [ngClass.gt-sm]="'margin-right-x1'">
    <span [hidden]="isSmallScreen$ | async" *ngIf="ui.titleMainPart1">{{ ui.titleMainPart1 }}</span>
    <span *ngIf="ui.titleMainPart2" fxLayoutAlign="center center">
      <md-icon *ngIf="!(isSmallScreen$ | async)">chevron_right</md-icon>
      <span class="color-accent-light-bold text-upper" [ngClass.lt-sm]="'pnl-title-main'">{{ ui.titleMainPart2 }}</span>
  </span>
  </span>

  <button md-button class="btn-usr-admin" *ngIf="user.isAdmin" [routerLink]="['/admin']">
    <md-icon>settings</md-icon>
  </button>

  <button md-icon-button class="btn-logout-user margin-right-x1" [disabled]="isDisconnecting" (click)="disconnect()">
    <md-icon>power_settings_new</md-icon>
  </button>

  <app-generate-icon class="btn-avatar-user margin-right-x0" [mdTooltip]="user.name" mdTooltipPosition="below" [size]="24"
    [text]="user.id"></app-generate-icon>
</md-toolbar>
