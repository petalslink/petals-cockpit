<md-card>
  <md-toolbar color="primary">Petals Cockpit</md-toolbar>

  <md-card-content>
    <form #formLogin="ngForm" (ngSubmit)="connectUser(formLogin.value)">
      <p>
        <md-input placeholder="Username" name="name" [(ngModel)]="name" type="Text"></md-input>
      </p>

      <p>
        <md-input placeholder="Password" name="password" [(ngModel)]="password" type="password"></md-input>
      </p>

      <button type="submit" color="primary" [disabled]="(user$ | async).isConnecting" md-button>
        <span>{{ 'LOG_ME' | translate }}</span>
        <md-progress-circle *ngIf="(user$ | async).isConnecting" mode="indeterminate"></md-progress-circle>
      </button>
    </form>
  </md-card-content>

  <p>
    Debug info :
    <span class="connecting" *ngIf="(user$ | async).isConnecting">Connecting ...</span>
    <span class="connected" *ngIf="(user$ | async).isConnected">Is connected !</span>
    <span class="not-connected" *ngIf="!(user$ | async).isConnected && !(user$ | async).isConnecting">Is NOT connected !</span>
    <span class="connection-failed" *ngIf="(user$ | async).connectionFailed">Connection failed !</span>
  </p>
</md-card>
