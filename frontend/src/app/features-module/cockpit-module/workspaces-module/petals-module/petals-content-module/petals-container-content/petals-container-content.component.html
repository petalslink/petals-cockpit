<!-- Copyright (C) 2016 Linagora

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>. -->

<md-toolbar color="primary">
  <span *ngIf="container">
    {{ container.name }}
  </span>

  <span class="flex-space"></span>

  <button md-icon-button [md-menu-trigger-for]="menu">
    <md-icon>more_vert</md-icon>
  </button>

  <md-menu x-position="before" #menu="mdMenu">
    <button md-menu-item>
      Overview
    </button>
    <button md-menu-item>
      Operation
    </button>
    <button md-menu-item>
      Config
    </button>
    <button md-menu-item>
      Flow
    </button>
    <button md-menu-item>
      Monitor
    </button>
    <button md-menu-item>
      Log
    </button>
    <button md-menu-item>
      User
    </button>
  </md-menu>
</md-toolbar>

<md-card class="central-content">
  <md-card-title align="center">
    <span *ngIf="container?.isFetchingDetails">Container content : Fetching</span>
    <span *ngIf="!container?.isFetchingDetails">Container content : Fetched</span>
  </md-card-title>

  <md-card-content *ngIf="container">
    <ul>
      <li *ngIf="container.id"><b>id</b> : {{ container.id }}</li>
      <li *ngIf="container.name"><b>name</b> : {{ container.name }}</li>
      <li *ngIf="container.ip"><b>ip</b> : {{ container.ip }}</li>
      <li *ngIf="container.port"><b>port</b> : {{ container.port }}</li>
      <li *ngIf="container.reachabilities"><b>reachabilities</b> :</li>

      <ul>
        <li *ngFor="let reachability of container.reachabilities | keys">
          <a [routerLink]="[
            '/cockpit/workspaces', workspace.id,
            'petals', 'bus', workspace.selectedBusId,
            'container', reachability.key
          ]">{{ getContainerById(reachability.key)?.name }}</a> : <span [ngClass]="reachability.value.toLowerCase()">{{ reachability.value }}</span>
        </li>
      </ul>
    </ul>

  </md-card-content>
</md-card>
