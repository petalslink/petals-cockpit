<!-- Copyright (C) 2016 Linagora

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>. -->

<md-card class="central-content list-element" *ngIf="bus">
  <md-card-title align="center">
    <md-progress-circle *ngIf="bus.isFetchingDetails" mode="indeterminate"></md-progress-circle>

    Bus content
  </md-card-title>

  <md-card-content>
    <ul>
      <li><b>id</b> : {{ bus.id }}</li>
      <li><b>name</b> : {{ bus.name }}</li>
    </ul>
  </md-card-content>
</md-card>

<!-- config is temporarily disabled -->
<div class="bkg-primary-card" *ngIf="bus && bus.config">
  <md-card class="central-content list-element">
    <md-card-content>
      <md-card-title align="center">
        Petals Bus Overview
      </md-card-title>

      <md-list dense>
        <form #busOverviewForm="ngForm">

          <h3 md-subheader align="start" class="color-primary list-title">Description</h3>

          <div class="list-row">
            <md-list-item>
              <h4 md-line>Title</h4>
              <p md-line>
                <span class="list-subheader">{{bus.name}}</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>State</h4>
              <p md-line>
                <span class="list-subheader">{{bus.state}}</span>
              </p>
            </md-list-item>
          </div>

          <md-divider></md-divider>
          <h3 md-subheader align="start" class="color-primary list-title">Component Type</h3>

          <div class="list-row">
            <md-list-item>
              <h4 md-line>Name</h4>
              <p md-line>
                <span class="list-subheader">{{bus.config.componentType.name}}</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>Version</h4>
              <p md-line>
                <span class="list-subheader">{{bus.config.componentType.version}}</span>
              </p>
            </md-list-item>
          </div>

          <md-divider></md-divider>
          <h3 md-subheader align="start" class="color-primary list-title">Topology > Domain</h3>

          <div class="list-row">
            <md-list-item>
              <h4 md-line>Name</h4>
              <p md-line>
                <span class="list-subheader">{{bus.config.topology.domain.name}}</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>Mode</h4>
              <p md-line>
                <span class="list-subheader">{{bus.config.topology.domain.mode}}</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>Description</h4>
              <p md-line>
                <span class="list-subheader">{{bus.config.topology.domain.description}}</span>
              </p>
            </md-list-item>
          </div>

          <md-divider></md-divider>
          <h3 md-subheader align="start" class="color-primary list-title">Topology > Containers</h3>

          <!-- Example container 2 -->
          <div class="list-row">
            <md-list-item>
              <h4 md-line>Id</h4>
              <p md-line>
                <span class="list-subheader">2</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>Name</h4>
              <p md-line>
                <span class="list-subheader">Container 2</span>
              </p>
            </md-list-item>
          </div>

          <div class="list-row">
            <md-list-item>
              <h4 md-line>Description</h4>
              <p md-line>
                <span class="list-subheader">Description of the container 2</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>Host</h4>
              <p md-line>
                <span class="list-subheader">192.18.1.002</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>User</h4>
              <p md-line>
                <span class="list-subheader">petals</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>Password</h4>
              <p md-line>
                <span class="list-subheader">petals</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>Jmx_port</h4>
              <p md-line>
                <span class="list-subheader">7701</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>Transport_port</h4>
              <p md-line>
                <span class="list-subheader">7801</span>
              </p>
            </md-list-item>
          </div>

          <md-divider></md-divider>

          <!-- Example container 3 -->
          <div class="list-row">
            <md-list-item>
              <h4 md-line>Id</h4>
              <p md-line>
                <span class="list-subheader">3</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>Name</h4>
              <p md-line>
                <span class="list-subheader">Container 3</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>Description</h4>
              <p md-line>
                <span class="list-subheader">Description of the container 3</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>Host</h4>
              <p md-line>
                <span class="list-subheader">192.18.1.003</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>User</h4>
              <p md-line>
                <span class="list-subheader">petals</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>Password</h4>
              <p md-line>
                <span class="list-subheader">petals</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>Jmx_port</h4>
              <p md-line>
                <span class="list-subheader">7701</span>
              </p>
            </md-list-item>

            <md-list-item>
              <h4 md-line>Transport_port</h4>
              <p md-line>
                <span class="list-subheader">7801</span>
              </p>
            </md-list-item>
          </div>

          <md-divider></md-divider>
          <h3 md-subheader align="start" class="color-primary list-title">Topology > Registry</h3>

          <div *ngIf="bus.config.topology">
            <div class="list-row">
              <md-list-item>
                <h4 md-line>Registry_implementation</h4>
                <p md-line>
                  <span class="list-subheader">{{bus.config.topology.registry.registry_implementation}}</span>
                </p>
              </md-list-item>
            </div>

            <md-divider></md-divider>
            <h3 md-subheader align="start" class="color-primary list-title">Topology > Registry > Configuration</h3>

            <div class="list-row">
              <md-list-item>
                <h4 md-line>Group_name</h4>
                <p md-line>
                  <span class="list-subheader">{{bus.config.topology.registry.registry_configuration.group_name}}</span>
                </p>
              </md-list-item>

              <md-list-item>
                <h4 md-line>Group_password</h4>
                <p md-line>
                  <span class="list-subheader">{{bus.config.topology.registry.registry_configuration.group_password}}</span>
                </p>
              </md-list-item>
            </div>

            <md-divider></md-divider>
            <h3 md-subheader align="start" class="color-primary list-title">Topology > Registry > Configuration >
              Overlay Members</h3>

            <!-- Example Overlay Members 1-->
            <div class="list-row" *ngFor="let member of bus.config.topology.registry.registry_configuration.overlay_members; let i = index;">
              <md-list-item>
                <h4 md-line>Host_name</h4>
                <p md-line>
                  <span class="list-subheader">{{member.host_name}}</span>
                </p>
              </md-list-item>

              <md-list-item>
                <h4 md-line>Port</h4>
                <p md-line>
                  <span class="list-subheader">{{member.port}}</span>
                </p>
              </md-list-item>
              <md-divider class="color-accent custom-divider-config-repeat"></md-divider>
            </div>
          </div>

        </form>
      </md-list>

    </md-card-content>
  </md-card>
</div>
