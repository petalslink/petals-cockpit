<md-toolbar color="primary" *ngIf="!importing">
  <span>
    Petals - Import a bus
  </span>
</md-toolbar>

<div class="bkg-primary-card">
  <md-card class="central-content list-element">
    <md-card-content>

      <form #formImportBus="ngForm" (ngSubmit)="importBus(formImportBus.value)">
        <h3 md-subheader align="start" class="color-primary list-title">Description</h3>

        <div class="input-row">
          <md-input type="text" [(ngModel)]="newBus.ip" name="ip" placeholder="IP" [disabled]="(workspaces$ | async).importingBus || importing"></md-input>
          <md-input type="text" [(ngModel)]="newBus.port" name="port" placeholder="Port" [disabled]="(workspaces$ | async).importingBus || importing"></md-input>
          <md-input type="text" [(ngModel)]="newBus.login" name="login" placeholder="Login" [disabled]="(workspaces$ | async).importingBus || importing"></md-input>
          <md-input type="password" [(ngModel)]="newBus.password" name="password" placeholder="Password" [disabled]="(workspaces$ | async).importingBus || importing"></md-input>
        </div>

        <div align="end" class="pnl-btn-import">
          <button
            md-raised-button
            color="primary"
            type="submit"
            [disabled]="(workspaces$ | async).importingBus || importing"
          >
            <span *ngIf="!(workspaces$ | async).importingBus && !importing">Import bus</span>
            <span *ngIf="(workspaces$ | async).importingBus || importing">
              Importing bus <md-progress-circle mode="indeterminate"></md-progress-circle>
            </span>
          </button>
        </div>
      </form>

    </md-card-content>
  </md-card>
</div>
