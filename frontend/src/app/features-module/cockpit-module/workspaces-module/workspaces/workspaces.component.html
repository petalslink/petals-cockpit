<md-toolbar color="primary">
  <span>
    Workspaces
  </span>

  <span class="flex-space"></span>

  <button md-icon-button [md-menu-trigger-for]="menu">
    <md-icon>more_vert</md-icon>
  </button>

  <md-menu x-position="before" #menu="mdMenu">
    <button md-menu-item>
      Overview
    </button>
    <button md-menu-item>
      Operation
    </button>
    <button md-menu-item>
      Config
    </button>
    <button md-menu-item>
      Flow
    </button>
    <button md-menu-item>
      Monitor
    </button>
    <button md-menu-item>
      Log
    </button>
    <button md-menu-item>
      User
    </button>
  </md-menu>
</md-toolbar>

<div class="bkg-primary-card">
  <md-card class="central-content">
     <md-card-header>
        <md-card-title>Workspaces</md-card-title>
        <md-card-subtitle>Select the workspace you want to work with</md-card-subtitle>
     </md-card-header>

    <img md-card-image src="/assets/img/workspace.png">

    <button
      md-mini-fab
      class="btn-show-panel-add-workspace"
      *ngIf="minimalWorkspaces && minimalWorkspaces.minimalWorkspaces.length > 0"
      (click)="addingWorkspace = !addingWorkspace"
    >
      <md-icon class="md-24" *ngIf="!addingWorkspace">add</md-icon>
      <md-icon class="md-24" *ngIf="addingWorkspace">clear</md-icon>
    </button>

    <md-card-content *ngIf="minimalWorkspaces">
      <p *ngIf="minimalWorkspaces.minimalWorkspaces.length === 0">
        You don't have any workspace.
      </p>

      <form
        *ngIf="addingWorkspace || minimalWorkspaces.minimalWorkspaces.length === 0"
        #addWorkspaceForm="ngForm"
        (ngSubmit)="addWorkspace(addWorkspaceForm.value.name)"
      >
        <p>
          <md-input [(ngModel)]="name" name="name" placeholder="Workspace's name" [disabled]="minimalWorkspaces.addingWorkspace"></md-input>

          <button md-raised-button type="submit" [disabled]="minimalWorkspaces.addingWorkspace">
            Add workspace

            <md-progress-circle *ngIf="minimalWorkspaces.addingWorkspace" mode="indeterminate"></md-progress-circle>
          </button>
        </p>
      </form>

      <md-nav-list>
        <md-list-item *ngFor="let minimalWorkspace of minimalWorkspaces.minimalWorkspaces" (click)="selectWorkspace(minimalWorkspace.id)">
          <h3 md-line>{{ minimalWorkspace.name }}</h3>
          <p md-line>
            <span class="workspace-used-by">{{minimalWorkspace.usedBy}}</span>
          </p>
        </md-list-item>
      </md-nav-list>
    </md-card-content>
  </md-card>
</div>
