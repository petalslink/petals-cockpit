<!-- Copyright (C) 2016 Linagora

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>. -->

<div class="page-login background-auth">
  <md-card class="pnl-auth">

    <md-toolbar color="primary">
      <img class="logo-petals-auth" src="assets/img/logo_petalscockpit.png">

      <span>
          Authentication
      </span>
    </md-toolbar>

    <md-card-content>
      <form #formLogin="ngForm" (ngSubmit)="connectUser(formLogin.value)">
        <div align="center">
          <md-input #nameInput placeholder="Username" name="username" [(ngModel)]="username" type="Text">
            <span md-prefix>
              <md-icon>person</md-icon>
            </span>
          </md-input>

          <md-input placeholder="Password" name="password" [(ngModel)]="password" type="password">
            <span md-prefix>
              <md-icon>vpn_key</md-icon>
            </span>
          </md-input>
        </div>

        <div class="error" *ngIf="user?.connectionFailed">
          Username and password do not match
        </div>

        <div align="end" class="pnl-btn-connect">
          <button type="submit" md-raised-button color="primary" [disabled]="user?.isConnecting">
            <span>{{ 'LOG_ME' | translate }}</span>
            <md-progress-circle *ngIf="user?.isConnecting" mode="indeterminate"></md-progress-circle>
          </button>
        </div>
      </form>

      <br>
    </md-card-content>

  </md-card>
</div>
